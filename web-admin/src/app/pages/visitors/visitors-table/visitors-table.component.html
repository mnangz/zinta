<div class="example-container mat-elevation-z8">



  <div class="row">
    <div class="col-md-4" *ngIf="todayDate">

    </div>


    <div class="col-md-4">
      <button mat-raised-button [matMenuTriggerFor]="menu" style="width:100%">
        <mat-icon>file_download</mat-icon>Export As
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="exportDirective.exportTable('csv', {fileName: 'Visitors-Log'})">
          <span>CSV</span>
        </button>
        <button mat-menu-item (click)="exportDirective.exportTable('xls', {fileName: 'Visitors-Log'})">
          <span>Excel</span>
        </button>
      </mat-menu>
      <!-- <form class="date-block" [formGroup]="filterForm">
        <div class="row">
          <div class="date-block__list col-md-5">
            <mat-form-field style="float: left;">
              <input matInput
                [matDatepicker]="fromDate"
                placeholder="From Date"
                formControlName="fromDate">
              <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
              <mat-datepicker #fromDate></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="date-block__list col-md-5">
            <mat-form-field>
              <input matInput
                [matDatepicker]="toDate"
                placeholder="To Date"
                formControlName="toDate">
              <mat-datepicker-toggle matSuffix [for]="toDate"></mat-datepicker-toggle>
              <mat-datepicker #toDate></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="col-md-2">
            <button style="width: 9%;" mat-button color="primary" class="primary" (click)="applyDateFilter()">Submit</button>
          </div>
        </div>
      </form> -->
    </div>

    <div class="col-md-4"></div>

  </div>





  <table mat-table matSort matTableFilter matTableExporter [dataSource]="dataSource" [exampleEntity]="filterEntity"
  [filterType]="filterType" [exporter]= "customExporter" #exportDirective="matTableExporter" class="full-width-table" style="margin-top: 30px;">

    <ng-container matColumnDef="first_name" sticky>
      <th mat-header-cell *matHeaderCellDef mat-sort-header sticky>
        <mat-form-field appearance="legacy">
          <mat-label>First Name</mat-label>
          <input matInput [(ngModel)]="filterEntity.first_name">
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row">{{row.first_name}}</td>
    </ng-container>

    <ng-container matColumnDef="last_name" sticky>
      <th mat-header-cell *matHeaderCellDef mat-sort-header sticky>
        <mat-form-field appearance="legacy">
          <mat-label>Last Name</mat-label>
          <input matInput [(ngModel)]="filterEntity.last_name">
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row">{{row.last_name}}</td>
    </ng-container>

    <ng-container matColumnDef="visitor_seen">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sticky>Visitor Seen</th>
      <td mat-cell *matCellDef="let row" style="text-align: left;"
      [ngClass]="{
        'yes' : row.visitor_seen == true,
        'no' : row.visitor_seen == false
     }">{{row.visitor_seen? 'Yes':'No' }}</td>
    </ng-container>

    <ng-container matColumnDef="mobile">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sticky>
        <mat-form-field appearance="legacy">
          <mat-label>Mobile Number</mat-label>
          <input matInput [(ngModel)]="filterEntity.mobile">
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row">{{row.mobile}}</td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sticky>
        <mat-form-field appearance="legacy">
          <mat-label>Email Address</mat-label>
          <input matInput [(ngModel)]="filterEntity.email">
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row">{{row.email}}</td>
    </ng-container>

    <ng-container matColumnDef="company_name">
      <th class="w-100" mat-header-cell *matHeaderCellDef mat-sort-header sticky>
        <mat-form-field appearance="legacy">
          <mat-label>Company Name</mat-label>
          <input matInput [(ngModel)]="filterEntity.company_name">
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row">{{row.company_name}}</td>
    </ng-container>

    <ng-container matColumnDef="address">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sticky>
        <mat-form-field appearance="legacy">
          <mat-label>Address</mat-label>
          <input matInput [(ngModel)]="filterEntity.address">
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row">{{row.address}}</td>
    </ng-container>

    <ng-container matColumnDef="id_number">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        <mat-form-field appearance="legacy">
          <mat-label>ID Number</mat-label>
          <input matInput [(ngModel)]="filterEntity.id_number">
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row">{{row.id_number}}</td>
    </ng-container>

    <ng-container matColumnDef="vehicle_reg">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sticky>
        <mat-form-field appearance="legacy">
          <mat-label>Vehicle Registration</mat-label>
          <input matInput [(ngModel)]="filterEntity.vehicle_reg">
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row">{{row.vehicle_reg}}</td>
    </ng-container>

    <ng-container matColumnDef="purpose_of_visit">
      <th mat-header-cell *matHeaderCellDef mat-sort-header sticky>
        <mat-form-field appearance="legacy">
          <mat-label>Purpose of Visit</mat-label>
          <input matInput [(ngModel)]="filterEntity.purpose_of_visit">
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row">{{row.purpose_of_visit}}</td>
    </ng-container>

    <ng-container matColumnDef="person_visited">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        <mat-form-field appearance="legacy">
          <mat-label>Person Visited</mat-label>
          <input matInput [(ngModel)]="filterEntity.person_visited">
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row">{{row.person_visited}}</td>
    </ng-container>

    <ng-container matColumnDef="date_visited">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Date Visited</th>
      <td mat-cell *matCellDef="let row">{{row.createdAt | date: 'dd/MM/yyyy' }}</td>
    </ng-container>

    <ng-container matColumnDef="signin_time">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Sign In Time</th>
      <td mat-cell *matCellDef="let row" style="text-align: center;">{{row.createdAt | date: 'shortTime'}}</td>
    </ng-container>

    <ng-container matColumnDef="signout_date">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Sign Out Date</th>
      <td mat-cell *matCellDef="let row" style="text-align: center;">{{row.updatedAt | date: 'dd/MM/yyyy'}}</td>
    </ng-container>

    <ng-container matColumnDef="signout_time">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Sign Out Time</th>
      <td mat-cell *matCellDef="let row" style="text-align: center;">{{row.updatedAt | date: 'shortTime'}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row;  columns: displayedColumns;" class="example-element-row"></tr>
  </table>

  <mat-paginator #paginator
      [length]="dataSource?.data.length"
      [pageIndex]="0"
      [pageSize]="10"
      [pageSizeOptions]="[10, 25, 50, 100, 250]">
  </mat-paginator>
</div>
